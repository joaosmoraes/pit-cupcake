<div class="page-container">
  <div class="content-wrap">
    <h2>Meus Endereços</h2>

    <button class="adicionar-endereco" (click)="adicionarNovoEndereco()" *ngIf="!mostrarFormularioNovoEndereco">
      Adicionar Novo Endereço
    </button>

    <div class="enderecos-container">
      <div *ngIf="mostrarFormularioNovoEndereco" class="novo-endereco-form endereco-form">
        <h3>Novo Endereço</h3>
        <input [(ngModel)]="novoEndereco!.rua" placeholder="Rua">
        <input [(ngModel)]="novoEndereco!.numero" placeholder="Número">
        <input [(ngModel)]="novoEndereco!.complemento" placeholder="Complemento">
        <input [(ngModel)]="novoEndereco!.bairro" placeholder="Bairro">
        <input [(ngModel)]="novoEndereco!.cidade" placeholder="Cidade">
        <input [(ngModel)]="novoEndereco!.estado" placeholder="Estado">
        <input [(ngModel)]="novoEndereco!.cep" placeholder="CEP">
        <button (click)="salvarNovoEndereco()">Salvar</button>
        <button (click)="cancelarNovoEndereco()">Cancelar</button>
      </div>

      <div class="enderecos-lista">
        <div *ngFor="let endereco of enderecos" class="endereco" [class.principal]="endereco.principal">
          <h3>{{ endereco.principal ? 'Endereço Principal' : 'Endereço' }}</h3>
          <p>{{ endereco.rua }}, {{ endereco.numero }}</p>
          <p *ngIf="endereco.complemento">{{ endereco.complemento }}</p>
          <p>{{ endereco.bairro }}, {{ endereco.cidade }} - {{ endereco.estado }}</p>
          <p>CEP: {{ endereco.cep }}</p>
          <button *ngIf="!endereco.principal" (click)="definirEnderecoPrincipal(endereco)">Definir como Principal</button>
          <button (click)="editarEndereco(endereco)">Editar</button>

          <div *ngIf="enderecoEmEdicao?.id === endereco.id" class="endereco-form">
            <!-- Formulário de edição existente -->
          </div>
        </div>
      </div>
    </div>
  </div>
</div>
