<div class="cupcake-form-container">
  <h2>{{ isEditMode ? 'Editar' : 'Adicionar' }} Cupcake</h2>
  <form [formGroup]="cupcakeForm" (ngSubmit)="onSubmit()">
    <div class="form-group">
      <label for="nome">Nome:</label>
      <input type="text" id="nome" formControlName="nome" required>
      <div *ngIf="cupcakeForm.get('nome')?.invalid && cupcakeForm.get('nome')?.touched" class="error-message">
        Nome é obrigatório
      </div>
    </div>

    <div class="form-group">
      <label for="descricao">Descrição:</label>
      <textarea id="descricao" formControlName="descricao" rows="3"></textarea>
    </div>

    <div class="form-group">
      <label for="preco">Preço:</label>
      <input type="number" id="preco" formControlName="preco" step="0.01" required>
      <div *ngIf="cupcakeForm.get('preco')?.invalid && cupcakeForm.get('preco')?.touched" class="error-message">
        Preço é obrigatório e deve ser um número válido
      </div>
    </div>

    <div class="form-group">
      <label for="imagem">Imagem:</label>
      <input type="file" id="imagem" (change)="onFileSelected($event)" accept="image/*">
      <img *ngIf="imagemPreview" [src]="imagemPreview" alt="Preview" class="image-preview">
    </div>

    <button type="submit" [disabled]="cupcakeForm.invalid">{{ isEditMode ? 'Atualizar' : 'Adicionar' }} Cupcake</button>
    <button (click)="onBack()" class="back-btn">Voltar</button>
  </form>
</div>
